# Reading pref.tcl
# do week2_run_msim_gate_verilog.do
# if {[file exists gate_work]} {
# 	vdel -lib gate_work -all
# }
# vlib gate_work
# vmap work gate_work
# Model Technology ModelSim - Intel FPGA Edition vmap 2020.1 Lib Mapping Utility 2020.02 Feb 28 2020
# vmap work gate_work 
# Copying C:/intelFPGA_lite/20.1/modelsim_ase/win32aloem/../modelsim.ini to modelsim.ini
# Modifying modelsim.ini
# 
# vlog -vlog01compat -work work +incdir+. {week2.vo}
# Model Technology ModelSim - Intel FPGA Edition vlog 2020.1 Compiler 2020.02 Feb 28 2020
# Start time: 03:37:48 on Jul 02,2025
# vlog -reportprogress 300 -vlog01compat -work work "+incdir+." week2.vo 
# -- Compiling module top
# -- Compiling module hard_block
# 
# Top level modules:
# 	top
# End time: 03:37:51 on Jul 02,2025, Elapsed time: 0:00:03
# Errors: 0, Warnings: 0
# 
# vlog -vlog01compat -work work +incdir+C:/Users/m_User/Desktop/DNN-Hardware-Accelerator {C:/Users/m_User/Desktop/DNN-Hardware-Accelerator/tb_top.v}
# Model Technology ModelSim - Intel FPGA Edition vlog 2020.1 Compiler 2020.02 Feb 28 2020
# Start time: 03:37:51 on Jul 02,2025
# vlog -reportprogress 300 -vlog01compat -work work "+incdir+C:/Users/m_User/Desktop/DNN-Hardware-Accelerator" C:/Users/m_User/Desktop/DNN-Hardware-Accelerator/tb_top.v 
# -- Compiling module tb_top
# 
# Top level modules:
# 	tb_top
# End time: 03:37:51 on Jul 02,2025, Elapsed time: 0:00:00
# Errors: 0, Warnings: 0
# 
# vsim -t 1ps -L altera_ver -L altera_lnsim_ver -L fiftyfivenm_ver -L gate_work -L work -voptargs="+acc"  tb_top
# vsim -t 1ps -L altera_ver -L altera_lnsim_ver -L fiftyfivenm_ver -L gate_work -L work -voptargs=""+acc"" tb_top 
# Start time: 03:37:51 on Jul 02,2025
# Loading work.tb_top
# Loading work.top
# Loading work.hard_block
# Loading fiftyfivenm_ver.fiftyfivenm_lcell_comb
# Loading fiftyfivenm_ver.fiftyfivenm_io_obuf
# Loading fiftyfivenm_ver.fiftyfivenm_io_ibuf
# Loading fiftyfivenm_ver.fiftyfivenm_clkctrl
# Loading fiftyfivenm_ver.fiftyfivenm_mux41
# Loading fiftyfivenm_ver.fiftyfivenm_ena_reg
# Loading fiftyfivenm_ver.fiftyfivenm_mac_mult
# Loading fiftyfivenm_ver.fiftyfivenm_mac_data_reg
# Loading fiftyfivenm_ver.fiftyfivenm_mac_sign_reg
# Loading fiftyfivenm_ver.fiftyfivenm_mac_mult_internal
# Loading fiftyfivenm_ver.fiftyfivenm_mac_out
# Loading altera_ver.dffeas
# Loading fiftyfivenm_ver.fiftyfivenm_unvm
# Loading fiftyfivenm_ver.fiftyfivenm_adcblock
# ** Warning: (vsim-PLI-3691) Expected a system task, not a system function '$fscanf'.
#    Time: 0 ps  Iteration: 0  Instance: /tb_top File: C:/Users/m_User/Desktop/DNN-Hardware-Accelerator/tb_top.v Line: 223
# Loading altera_ver.PRIM_GDFF_LOW
# ** Warning: (vsim-2685) [TFMPC] - Too few port connections for '\~QUARTUS_CREATED_ADC1~ '.  Expected 8, found 7.
#    Time: 0 ps  Iteration: 0  Instance: /tb_top/uut/\~QUARTUS_CREATED_ADC1~  File: week2.vo Line: 575775
# ** Warning: (vsim-3722) week2.vo(575775): [TFMPC] - Missing connection for port 'clk_dft'.
# ** Warning: (vsim-2685) [TFMPC] - Too few port connections for '\~QUARTUS_CREATED_ADC2~ '.  Expected 8, found 7.
#    Time: 0 ps  Iteration: 0  Instance: /tb_top/uut/\~QUARTUS_CREATED_ADC2~  File: week2.vo Line: 575798
# ** Warning: (vsim-3722) week2.vo(575798): [TFMPC] - Missing connection for port 'clk_dft'.
# ** Warning: Design size of 65193 statements exceeds ModelSim-Intel FPGA Starter Edition recommended capacity.
# Expect performance to be adversely affected.
# 
# add wave *
# ** Warning: (vsim-WLF-5000) WLF file currently in use: vsim.wlf
#           File in use by: m_User  Hostname: MULTIMEDIA-PC  ProcessID: 33080
#           Attempting to use alternate WLF file "./wlfted8z2r".
# ** Warning: (vsim-WLF-5001) Could not open WLF file: vsim.wlf
#           Using alternate file: ./wlfted8z2r
# view structure
# .main_pane.structure.interior.cs.body.struct
# view signals
# .main_pane.objects.interior.cs.body.tree
# run -all
# === CNN Test Start (Padding Mode: 01) ===
# Expected Outputs: Padded Window=8x8, Conv=8x8, Pool=6x6
# 
# --- Input Image (Original 0-255, 8x8) ---
#  123   45   67   89  -46   32   99 -106 
#   34   -1 -128    0   98   76  120  -76 
#   65  -66  -56   10 -116   60  110   50 
#   75   30  -76   -6  100   15   30   25 
#   90  110  -16   80   70   60  -76  -56 
#   10   20   30   40   50   60   70   80 
#   25   55   85   45  105 -121  -86  -46 
#   10   30   50   70   90  110 -126 -106 
# 
# --- Input Image (Converted to INT8, 8x8) ---
#   -5  -83  -61  -39   82  -96  -29   22 
#  -94  127    0 -128  -30  -52   -8   52 
#  -63   62   72 -118   12  -68  -18  -78 
#  -53  -98   52  122  -28 -113  -98 -103 
#  -38  -18  112  -48  -58  -68   52   72 
# -118 -108  -98  -88  -78  -68  -58  -48 
# -103  -73  -43  -83  -23    7   42   82 
# -118  -98  -78  -58  -38  -18    2   22 
# 
# === Starting Pixel Input to DUT ===
# Pixel[0][0] = -5 (Input Pixel #1)
# Pixel[0][1] = -83 (Input Pixel #2)
# Pixel[0][2] = -61 (Input Pixel #3)
# Pixel[0][3] = -39 (Input Pixel #4)
# Pixel[0][4] = 82 (Input Pixel #5)
# Pixel[0][5] = -96 (Input Pixel #6)
# Pixel[0][6] = -29 (Input Pixel #7)
# Pixel[0][7] = 22 (Input Pixel #8)
# Pixel[1][0] = -94 (Input Pixel #9)
# Pixel[1][1] = 127 (Input Pixel #10)
# Pixel[1][2] = 0 (Input Pixel #11)
# Pixel[1][3] = -128 (Input Pixel #12)
# Pixel[1][4] = -30 (Input Pixel #13)
# Pixel[1][5] = -52 (Input Pixel #14)
# Pixel[1][6] = -8 (Input Pixel #15)
# Pixel[1][7] = 52 (Input Pixel #16)
# Pixel[2][0] = -63 (Input Pixel #17)
# Pixel[2][1] = 62 (Input Pixel #18)
# Pixel[2][2] = 72 (Input Pixel #19)
# Pixel[2][3] = -118 (Input Pixel #20)
# Pixel[2][4] = 12 (Input Pixel #21)
# Pixel[2][5] = -68 (Input Pixel #22)
# Pixel[2][6] = -18 (Input Pixel #23)
# Pixel[2][7] = -78 (Input Pixel #24)
# Pixel[3][0] = -53 (Input Pixel #25)
# Pixel[3][1] = -98 (Input Pixel #26)
# Pixel[3][2] = 52 (Input Pixel #27)
# Pixel[3][3] = 122 (Input Pixel #28)
# Pixel[3][4] = -28 (Input Pixel #29)
# Pixel[3][5] = -113 (Input Pixel #30)
# Pixel[3][6] = -98 (Input Pixel #31)
# Pixel[3][7] = -103 (Input Pixel #32)
# Pixel[4][0] = -38 (Input Pixel #33)
# Pixel[4][1] = -18 (Input Pixel #34)
# Pixel[4][2] = 112 (Input Pixel #35)
# Pixel[4][3] = -48 (Input Pixel #36)
# Pixel[4][4] = -58 (Input Pixel #37)
# Pixel[4][5] = -68 (Input Pixel #38)
# Pixel[4][6] = 52 (Input Pixel #39)
# Pixel[4][7] = 72 (Input Pixel #40)
# Pixel[5][0] = -118 (Input Pixel #41)
# Pixel[5][1] = -108 (Input Pixel #42)
# Pixel[5][2] = -98 (Input Pixel #43)
# Pixel[5][3] = -88 (Input Pixel #44)
# Pixel[5][4] = -78 (Input Pixel #45)
# Pixel[5][5] = -68 (Input Pixel #46)
# Pixel[5][6] = -58 (Input Pixel #47)
# Pixel[5][7] = -48 (Input Pixel #48)
# Pixel[6][0] = -103 (Input Pixel #49)
# Pixel[6][1] = -73 (Input Pixel #50)
# Pixel[6][2] = -43 (Input Pixel #51)
# Pixel[6][3] = -83 (Input Pixel #52)
# Pixel[6][4] = -23 (Input Pixel #53)
# Pixel[6][5] = 7 (Input Pixel #54)
# Pixel[6][6] = 42 (Input Pixel #55)
# Pixel[6][7] = 82 (Input Pixel #56)
# Pixel[7][0] = -118 (Input Pixel #57)
# Pixel[7][1] = -98 (Input Pixel #58)
# Pixel[7][2] = -78 (Input Pixel #59)
# Pixel[7][3] = -58 (Input Pixel #60)
# Pixel[7][4] = -38 (Input Pixel #61)
# Pixel[7][5] = -18 (Input Pixel #62)
# Pixel[7][6] = 2 (Input Pixel #63)
# Pixel[7][7] = 22 (Input Pixel #64)
# 
# --- Padded Window Output #1 (Coord: 0, 0) ---
#      0    0    0
#      0   -5  -83
#      0  -94  127
# 
# --- Padded Window Output #2 (Coord: 0, 1) ---
#      0    0    0
#     -5  -83  -61
#    -94  127    0
# 
# --- Padded Window Output #3 (Coord: 0, 2) ---
#      0    0    0
#    -83  -61  -39
#    127    0 -128
# Conv[0][0] = -44 (No.1)
# 
# --- Padded Window Output #4 (Coord: 0, 3) ---
#      0    0    0
#    -61  -39   82
#      0 -128  -30
# Conv[0][1] = -38 (No.2)
# ReLU[0][0] = 0 (No.1)
# 
# --- Padded Window Output #5 (Coord: 0, 4) ---
#      0    0    0
#    -39   82  -96
#   -128  -30  -52
# Conv[0][2] = 211 (No.3)
# ReLU[0][1] = 0 (No.2)
# 
# --- Padded Window Output #6 (Coord: 0, 5) ---
#      0    0    0
#     82  -96  -29
#    -30  -52   -8
# Conv[0][3] = -113 (No.4)
# ReLU[0][2] = 127 (No.3)
# 
# --- Padded Window Output #7 (Coord: 0, 6) ---
#      0    0    0
#    -96  -29   22
#    -52   -8   52
# Conv[0][4] = -19 (No.5)
# ReLU[0][3] = 0 (No.4)
# 
# --- Padded Window Output #8 (Coord: 0, 7) ---
#      0    0    0
#    -29   22    0
#     -8   52    0
# Conv[0][5] = 89 (No.6)
# ReLU[0][4] = 0 (No.5)
# 
# --- Padded Window Output #9 (Coord: 1, 0) ---
#      0   -5  -83
#      0  -94  127
#      0  -63   62
# Conv[0][6] = -222 (No.7)
# ReLU[0][5] = 89 (No.6)
# 
# --- Padded Window Output #10 (Coord: 1, 1) ---
#     -5  -83  -61
#    -94  127    0
#    -63   62   72
# Conv[0][7] = -37 (No.8)
# ReLU[0][6] = 0 (No.7)
# 
# --- Padded Window Output #11 (Coord: 1, 2) ---
#    -83  -61  -39
#    127    0 -128
#     62   72 -118
# Conv[1][0] = -106 (No.9)
# ReLU[0][7] = 0 (No.8)
# 
# --- Padded Window Output #12 (Coord: 1, 3) ---
#    -61  -39   82
#      0 -128  -30
#     72 -118   12
# Conv[1][1] = -173 (No.10)
# ReLU[1][0] = 0 (No.9)
# 
# --- Padded Window Output #13 (Coord: 1, 4) ---
#    -39   82  -96
#   -128  -30  -52
#   -118   12  -68
# Conv[1][2] = 391 (No.11)
# ReLU[1][1] = 0 (No.10)
# 
# --- Padded Window Output #14 (Coord: 1, 5) ---
#     82  -96  -29
#    -30  -52   -8
#     12  -68  -18
# Conv[1][3] = -53 (No.12)
# ReLU[1][2] = 127 (No.11)
# 
# --- Padded Window Output #15 (Coord: 1, 6) ---
#    -96  -29   22
#    -52   -8   52
#    -68  -18  -78
# Conv[1][4] = -69 (No.13)
# ReLU[1][3] = 0 (No.12)
# 
# --- Padded Window Output #16 (Coord: 1, 7) ---
#    -29   22    0
#     -8   52    0
#    -18  -78    0
# Conv[1][5] = 119 (No.14)
# ReLU[1][4] = 0 (No.13)
# 
# --- Padded Window Output #17 (Coord: 2, 0) ---
#      0  -94  127
#      0  -63   62
#      0  -53  -98
# Conv[1][6] = -212 (No.15)
# ReLU[1][5] = 119 (No.14)
# 
# --- Padded Window Output #18 (Coord: 2, 1) ---
#    -94  127    0
#    -63   62   72
#    -53  -98   52
# Conv[1][7] = -55 (No.16)
# ReLU[1][6] = 0 (No.15)
# 
# --- Padded Window Output #19 (Coord: 2, 2) ---
#    127    0 -128
#     62   72 -118
#    -98   52  122
# Conv[2][0] = -91 (No.17)
# ReLU[1][7] = 0 (No.16)
# === Pixel Input Complete, Waiting for Results ===
# Waiting for Padded Window results... (Expected 64)
# 
# --- Padded Window Output #20 (Coord: 2, 3) ---
#      0 -128  -30
#     72 -118   12
#     52  122  -28
# Conv[2][1] = -334 (No.18)
# ReLU[2][0] = 0 (No.17)
# 
# --- Padded Window Output #21 (Coord: 2, 4) ---
#   -128  -30  -52
#   -118   12  -68
#    122  -28 -113
# Conv[2][2] = 215 (No.19)
# ReLU[2][1] = 0 (No.18)
# 
# --- Padded Window Output #22 (Coord: 2, 5) ---
#    -30  -52   -8
#     12  -68  -18
#    -28 -113  -98
# Conv[2][3] = 170 (No.20)
# ReLU[2][2] = 127 (No.19)
# 
# --- Padded Window Output #23 (Coord: 2, 6) ---
#    -52   -8   52
#    -68  -18  -78
#   -113  -98 -103
# Conv[2][4] = 109 (No.21)
# ReLU[2][3] = 127 (No.20)
# 
# --- Padded Window Output #24 (Coord: 2, 7) ---
#     -8   52    0
#    -18  -78    0
#    -98 -103    0
# Conv[2][5] = 78 (No.22)
# ReLU[2][4] = 109 (No.21)
# 
# --- Padded Window Output #25 (Coord: 3, 0) ---
#      0  -63   62
#      0  -53  -98
#      0  -38  -18
# Conv[2][6] = -104 (No.23)
# ReLU[2][5] = 78 (No.22)
# 
# --- Padded Window Output #26 (Coord: 3, 1) ---
#    -63   62   72
#    -53  -98   52
#    -38  -18  112
# Conv[2][7] = -124 (No.24)
# ReLU[2][6] = 0 (No.23)
# 
# --- Padded Window Output #27 (Coord: 3, 2) ---
#     62   72 -118
#    -98   52  122
#    -18  112  -48
# Conv[3][0] = 54 (No.25)
# ReLU[2][7] = 0 (No.24)
# 
# --- Padded Window Output #28 (Coord: 3, 3) ---
#     72 -118   12
#     52  122  -28
#    112  -48  -58
# Conv[3][1] = -390 (No.26)
# ReLU[3][0] = 54 (No.25)
# 
# --- Padded Window Output #29 (Coord: 3, 4) ---
#   -118   12  -68
#    122  -28 -113
#    -48  -58  -68
# Conv[3][2] = -10 (No.27)
# ReLU[3][1] = 0 (No.26)
# 
# --- Padded Window Output #30 (Coord: 3, 5) ---
#     12  -68  -18
#    -28 -113  -98
#    -58  -68   52
# Conv[3][3] = 310 (No.28)
# ReLU[3][2] = 0 (No.27)
# 
# --- Padded Window Output #31 (Coord: 3, 6) ---
#    -68  -18  -78
#   -113  -98 -103
#    -68   52   72
# Conv[3][4] = 205 (No.29)
# ReLU[3][3] = 127 (No.28)
# 
# --- Padded Window Output #32 (Coord: 3, 7) ---
#    -18  -78    0
#    -98 -103    0
#     52   72    0
# Conv[3][5] = -10 (No.30)
# ReLU[3][4] = 127 (No.29)
# 
# --- Padded Window Output #33 (Coord: 4, 0) ---
#      0  -53  -98
#      0  -38  -18
#      0 -118 -108
# Conv[3][6] = -140 (No.31)
# ReLU[3][5] = 0 (No.30)
# 
# --- Padded Window Output #34 (Coord: 4, 1) ---
#    -53  -98   52
#    -38  -18  112
#   -118 -108  -98
# Conv[3][7] = -64 (No.32)
# ReLU[3][6] = 0 (No.31)
# 
# --- Padded Window Output #35 (Coord: 4, 2) ---
#    -98   52  122
#    -18  112  -48
#   -108  -98  -88
# Conv[4][0] = 224 (No.33)
# ReLU[3][7] = 0 (No.32)
